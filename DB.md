## 데이터베이스 기본 개념

---

### **데이터베이스의 정의**

- **통합 데이터**
- **공유 데이터**
- **저장 데이터**
- **운영 데이터**

### **데이터베이스의 특징**

- **실시간 접근성**
- **내용 기반 참조**
- **계속 변화**
- **동시 공유**

### 정형 데이터

- 구조화된 데이터
- 엑셀의 스프레드시트, 관계 데이터베이스의 테이블 등

### 반정형 데이터

- 구조에 따라 저장된 데이터
- 내용 안에 구조에 대한 설명이 함께 존재하는 데이터
- HTML, XML, JSON 등

### 비정형 데이터

- 정해진 구조가 없는 데이터
- 소셜 데이터의 텍스트, 영상, 이미지 등

## 데이터베이스 관리 시스템

---

### 파일 시스템의 문제점

- 같은 내용의 데이터가 여러 파일에 중복 저장 시 발생하는 문제
    1. **일관성의 문제**
    2. **보안성의 문제**
    3. **경제성의 문제**
    4. **무결성의 문제**
- **데이터 중복성 문제, 데이터 종속성 문제**

### 데이터베이스 관리 시스템 (DBMS)

- **정**의 기능 : 데이터베이스 구조를 정의하거나 수정
- **조**작 기능 : 데이터를 삽입, 삭제, 수정, 검색하는 연산 수행
- **제**어 기능 : 데이터를 항상 정확하고 안전하게 유지

### **DBMS 발전 과정**

1. **1세대 : 네트워크 DBMS, 계층 DBMS**
    1. **그래프 형태**
    2. **트리 형태**
2. **2세대 : 관계 DBMS**
    1. **테이블 형태**
3. **3세대 : 객체지향 DBMS, 객체관계 DBMS**
4. **4세대 : NoSQL, NewSQL DBMS**

## 데이터베이스 시스템 - 1

---

### 스키마

- 데이터베이스에 저장되는 데이터 구조와 제약 조건을 정의한 것

### 인스턴스

- 스키마에 따라 데이터베이스에 실제로 저장된 값

### 3단계 데이터베이스 구조

1. **외**부 단계 : 사용자 관점 - 여러 개 존재 가능
2. **개**념 단계 : 조직 전체 관점 - 논리적 구조 정의
3. **내**부 단계 : 저장 장치 관점 - 크기, 구조, 접근 경로 정의

- 위와 같이 3단계로 나누는 궁극적 목적 : **데이터 독립성의 실현!!!**
    
    데이터 독립성 : 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성
    

## 데이터베이스 시스템 - 2

---

### 데이터베이스 관리자

- DB 시스템 운영 및 관리

### 최종 사용자

- DB 접근하여 데이터 조작

### 응용 프로그래머

- 데이터 언어 삽입, 응용 프로그램 작성

### 데이터 정의어 (DDL)

- 스키마 정의, 수정, 삭제

### 데이터 조작어 (DML)

- 데이터 삽입, 삭제, 수정, 검사 등

### 데이터 제어어 (DCL)

- 규칙이나 기법 정리 위해 사용
- 무결성 보안 회복 동시성 제어

## 데이터 모델링 - 1

---

### 2단계 데이터 모델링

1. 개념적 데이터 모델링 : 현실 세계 → 개념 세계
2. 논리적 데이터 모델링 : 개념 세계 → 데이터베이스에 저장하는 구조

### 데이터 모델

- 데이터 모델링의 결과물을 표현하는 도구
    
    ex. 개체 - 관계 모델 / 관계 데이터 모델
    

## 데이터 모델링 - 2

---

### 관계의 유형

1. 이항 관계 : 개체 타입 두 개가 맺는 관계
2. 삼항 관계 : 개체 타입 세 개가 맺는 관계
3. 순환 관계 : 개체 타입 하나가 자기 자신과 맺는 관계

### 관계의 유형

- 매핑 카디널리티 : 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
- 일대일 관계
- 일대다 관계
- 다대다 관계

## 관계 데이터 모델 - 1

---

### 릴레이션

- 하나의 개체에 관한 데이터를 2차원 테이블의 구조로 저장한 것

### 속성

- 릴레이션의 열

### 튜플

- 릴레이션의 행

### 도메인

- 하나의 속성이 가질 수 있는 모든 값의 집합

### 차수

- 하나의 릴레이션에서 속성의 전체 개수

### 카디널리티

- 하나의 릴레이션에서 튜플의 전체 개수

### 릴레이션 스키마

- 릴레이션의 논리적 구조

### 릴레이션 인스턴스

- 어느 한 시점에 릴레이션에 존재하는 튜플들의 집합

### **릴레이션의 특성**

1. **튜플의 유일성 : 하나의 릴레이션에는 동일한 튜플이 있을 수 없다.**
2. **튜플의 무순서 : 하나의 릴레이션에서 튜플 사이의 순서는 무의미하다.**
3. **속성의 무순서 : 하나의 릴레이션에서 속성 사이의 순서는 무의미하다.**
4. **속성의 원자성 : 속성 값으로 원자값만 사용할 수 있다.**
- 원자값 : 단일값 or NULL

## 관계 데이터 모델 - 2

---

### 키

- 릴레이션에서 튜플들을 유일하게 구별하는 속성 또는 속성들의 집합

### 키의 특성

- 유일성 : 하나의 릴레이션에서 모든 튜플은 서로 다른 키 값을 가져야 함
- 최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성함

> **최소성을 만족시켜야만 키가 되는 것은 아님!!!**
> 

### **키의 종류**

1. **슈퍼키**
2. **후보키**
3. **기본키**
4. **대체키**
5. **외래키**

- 슈퍼키 (유일성 만족) : 유일성만 만족하는 키
    - 후보키 (최소성 만족) : 유일성과 최소성을 동시에 만족하는 키
        - 기본키 : 후보키중 기본적으로 사용하기 위해 선택한 키
        - 대체키 : 기본키로 선택되지 못한 후보키

### 외래키

- 다른 릴레이션의 기본키를 참조하는 키
- 릴레이션 간의 관계 표현

### 외래키 조건 및 특성

- 외래키 속성과 그것이 참조하는 기본키 속성의 이름은 달라도 되지만 도메인은 같아야 한다.
- 하나의 릴레이션에는 외래키가 여러 개 존재할 수도 있고 외래키를 기본키로 사용할 수도 있다.
- 같은 릴레이션의 기본키를 참조하는 외래키도 정의할 수 있다.
- 외래키 속성은 널값을 가질 수도 있다.

### **무결성 제약 조건**

- **개체 무결성 제약 조건 : 기본키를 구성하는 모든 속성은 널 값을 가질 수 없다.**
- **참조 무결성 제약 조건 : 외래키는 참조할 수 없는 값을 가질 수 없다.**

## 데이터베이스 설계 - 1

---

### 관계 데이터베이스의 대표적인 설계 방법

- ER 모델과 릴레이션 변환 규칙을 이용한 설계
- 정규화를 이용한 설계

### ER 모델과 릴레이션 변환 규칙을 이용한 설계 과정

| 단계 | 단계 과정 | 주요 작업 | 결과물 |
| --- | --- | --- | --- |
| 1단계 | 요구사항 분석 | DB 용도 파악 | 요구사항 명세서 |
| 2단계 | 개념적 설계 | DBMS에 독립적인 개념적 구조 설계 | 개념적 스키마 |
| 3단계 | 논리적 설계 | DBMS에 적합한 논리적 구조 설계 | 논리적 스키마 |
| 4단계 | 물리적 설계 | DBMS로 구현 가능한 물리적 구조 설계 | 물리적 스키마 |
| 5단계 | 구현 | SQL문 작성 후 DBMS에서 실행해 DB 생성 | DB 생성 |

## 글을 마치며

---

### ER 다이어그램 그리는 연습 많이 하세요

- ER 다이어그램에 쓰이는 개체, 속성, 관계 등은 글에 없으니 그려가며 연습해보시기 바랍니다.
